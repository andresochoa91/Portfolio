{"ast":null,"code":"import _objectSpread from\"/home/andres/Desktop/codeTheDream/assignments/react-section-2-andresochoa91/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/andres/Desktop/codeTheDream/assignments/react-section-2-andresochoa91/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{createContext,useState,useEffect}from'react';export var PortfolioContext=createContext({studies:[],experience:[],skills:[],projects:[]});export var Provider=function Provider(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),studies=_useState2[0],setStudies=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),experience=_useState4[0],setExperience=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),skills=_useState6[0],setSkills=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),projects=_useState8[0],setProjects=_useState8[1];var apiKey=\"?api_key=keyBeXZyPUF8I8G0u\";var url=\"https://api.airtable.com/v0/appkh2au2vrFCqrR6/Table%20\";var fetchAirtable=function fetchAirtable(num){fetch(\"\".concat(url).concat(num).concat(apiKey)).then(function(response){return response.json();}).then(function(data){(num===1?setStudies:num===2?setExperience:num===3?setSkills:setProjects)(data.records.map(function(d){return _objectSpread(_objectSpread({},d.fields),{},{id:d.id});}));});};useEffect(function(){for(var i=1;i<=4;i++){fetchAirtable(i);}},[]);return/*#__PURE__*/React.createElement(PortfolioContext.Provider,{value:{studies:studies,experience:experience,skills:skills,projects:projects}},props.children);};","map":{"version":3,"sources":["/home/andres/Desktop/codeTheDream/assignments/react-section-2-andresochoa91/src/Context/index.tsx"],"names":["React","createContext","useState","useEffect","PortfolioContext","studies","experience","skills","projects","Provider","props","setStudies","setExperience","setSkills","setProjects","apiKey","url","fetchAirtable","num","fetch","then","response","json","data","records","map","d","fields","id","i","children"],"mappings":"mYAAA,MAAOA,CAAAA,KAAP,EAAgBC,aAAhB,CAA+BC,QAA/B,CAAyCC,SAAzC,KAA0D,OAA1D,CASA,MAAO,IAAMC,CAAAA,gBAAgB,CAAGH,aAAa,CAAW,CACtDI,OAAO,CAAE,EAD6C,CAEtDC,UAAU,CAAE,EAF0C,CAGtDC,MAAM,CAAE,EAH8C,CAItDC,QAAQ,CAAE,EAJ4C,CAAX,CAAtC,CAOP,MAAO,IAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,KAAD,CAAgB,eAENR,QAAQ,CAAiB,EAAjB,CAFF,wCAE9BG,OAF8B,eAErBM,UAFqB,8BAGAT,QAAQ,CAAoB,EAApB,CAHR,yCAG9BI,UAH8B,eAGlBM,aAHkB,8BAIRV,QAAQ,CAAgB,EAAhB,CAJA,yCAI9BK,MAJ8B,eAItBM,SAJsB,8BAKJX,QAAQ,CAAkB,EAAlB,CALJ,yCAK9BM,QAL8B,eAKpBM,WALoB,eAOtC,GAAMC,CAAAA,MAAc,CAAG,4BAAvB,CACA,GAAMC,CAAAA,GAAW,CAAG,wDAApB,CAGA,GAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,GAAD,CAAsB,CAC1CC,KAAK,WAAIH,GAAJ,SAAUE,GAAV,SAAgBH,MAAhB,EAAL,CACCK,IADD,CACM,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EADd,EAECF,IAFD,CAEM,SAAAG,IAAI,CAAI,CACZ,CAAEL,GAAG,GAAK,CAAR,CAAYP,UAAZ,CACAO,GAAG,GAAK,CAAR,CAAYN,aAAZ,CACAM,GAAG,GAAK,CAAR,CAAYL,SAAZ,CAAwBC,WAF1B,EAGES,IAAI,CAACC,OAAL,CAAaC,GAAb,CAAiB,SAACC,CAAD,CAAY,CAC7B,sCAAWA,CAAC,CAACC,MAAb,MAAqBC,EAAE,CAAEF,CAAC,CAACE,EAA3B,GACD,CAFC,CAHF,EAMD,CATD,EAUD,CAXD,CAaAzB,SAAS,CAAC,UAAM,CACd,IAAK,GAAI0B,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,EAAI,CAArB,CAAwBA,CAAC,EAAzB,CAA6B,CAC3BZ,aAAa,CAACY,CAAD,CAAb,CACD,CACF,CAJQ,CAIN,EAJM,CAAT,CAMA,mBACE,oBAAC,gBAAD,CAAkB,QAAlB,EAA2B,KAAK,CAAE,CAChCxB,OAAO,CAAPA,OADgC,CAEhCC,UAAU,CAAVA,UAFgC,CAGhCC,MAAM,CAANA,MAHgC,CAIhCC,QAAQ,CAARA,QAJgC,CAAlC,EAMIE,KAAK,CAACoB,QANV,CADF,CAUD,CAxCM","sourcesContent":["import React, { createContext, useState, useEffect } from 'react';\n\nexport interface IContext {\n  studies: Array<Studies>;\n  experience: Array<Experience>;\n  skills: Array<Skills>;\n  projects: Array<Projects>;\n}\n\nexport const PortfolioContext = createContext<IContext>({\n  studies: [],\n  experience: [],\n  skills: [],\n  projects: []\n});\n\nexport const Provider = (props: any) => {\n\n  const [ studies, setStudies ] = useState<Array<Studies>>([]);\n  const [ experience, setExperience ] = useState<Array<Experience>>([]);\n  const [ skills, setSkills ] = useState<Array<Skills>>([]);\n  const [ projects, setProjects ] = useState<Array<Projects>>([]);\n  \n  const apiKey: string = \"?api_key=keyBeXZyPUF8I8G0u\";\n  const url: string = \"https://api.airtable.com/v0/appkh2au2vrFCqrR6/Table%20\";\n\n\n  const fetchAirtable = (num: number):void => {\n    fetch(`${url}${num}${apiKey}`)\n    .then(response => response.json())\n    .then(data => {\n      ( num === 1 ? setStudies :\n        num === 2 ? setExperience :\n        num === 3 ? setSkills : setProjects\n      )(data.records.map((d: any) => {\n        return {...d.fields, id: d.id};  \n      }))\n    })\n  }\n\n  useEffect(() => {\n    for (let i = 1; i <= 4; i++) {\n      fetchAirtable(i)\n    }\n  }, []);\n\n  return (\n    <PortfolioContext.Provider value={{\n      studies,\n      experience,\n      skills,\n      projects\n    }}>\n      { props.children }\n    </PortfolioContext.Provider>\n  );\n}"]},"metadata":{},"sourceType":"module"}